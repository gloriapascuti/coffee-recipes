#!/bin/bash
# Script to run Django server with Groq API key
# 
# Copy this file to run_server.sh and set your API key:
#   cp run_server.sh.example run_server.sh
#   export GROQ_API_KEY='your-api-key-here'
#   ./run_server.sh

# Check if API key is set
if [ -z "$GROQ_API_KEY" ]; then
    echo "Error: GROQ_API_KEY environment variable is not set."
    echo "Please set it with: export GROQ_API_KEY='your-api-key-here'"
    echo "Or get a free key at: https://console.groq.com/"
    exit 1
fi

cd "$(dirname "$0")"

# Use the conda environment if available, otherwise use default python
if [ -f "/opt/homebrew/Caskroom/miniconda/base/envs/analiza_works/bin/python" ]; then
    /opt/homebrew/Caskroom/miniconda/base/envs/analiza_works/bin/python manage.py runserver
else
    python manage.py runserver
fi
